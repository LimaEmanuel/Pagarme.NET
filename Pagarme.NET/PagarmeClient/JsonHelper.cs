using System;using System.IO;using System.Runtime.Serialization;using Newtonsoft.Json;namespace PagarmeClient{    internal static class JsonHelper    {        static JsonSerializerSettings GetSettings(PagarMeService service)        {            return new JsonSerializerSettings            {                ConstructorHandling = ConstructorHandling.AllowNonPublicDefaultConstructor,                Formatting = Formatting.None,                ObjectCreationHandling = ObjectCreationHandling.Replace            };        }        public static T Deserialize<T>(PagarMeService service, string body)        {            return JsonConvert.DeserializeObject<T>(body, GetSettings(service));        }        public static void DeserializeTo<T>(PagarMeService service, T obj, string body)        {            JsonConvert.PopulateObject(body, obj, GetSettings(service));        }        public static string Serialize<T>(PagarMeService service, T instance)        {            return JsonConvert.SerializeObject(instance, typeof(T), GetSettings(service));        }    }}

